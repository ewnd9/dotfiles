lang: javascript
snippets:
  - name: Constructor
    prefix: constructor
    body: constructor
  - name: AssertEqual
    prefix: assert
    body: 'assert.strictEqual($1, $2, $3);'
  - name: AssertNotUndefined
    prefix: defined
    body: 'assert.notStrictEqual(typeof $1, ''undefined'', ''$1 should be defined'');'
  - name: Iterate map
    prefix: imap
    body: imap(_ => _.$1)
  - name: Angular
    prefix: angular
    body: |-
      export default {
        scope: {},
        controller: ($scope) => {
          $1
        }
      };
  - name: Use Strict
    prefix: us
    body: '''use strict'';'
  - name: read file
    prefix: readfile
    body: 'const data = fs.readFileSync($1, ''utf-8'');$2'
  - name: stringify
    prefix: str
    body: 'JSON.stringify($1, null, 2)$2'
  - name: type-codegen tcomb
    prefix: cgtcomb
    body: console.log(require('type-codegen/packages/tcomb-codegen').generateCode($1))
  - name: listen port
    prefix: listen
    body: |-
      listen($1, err => {
        if (err) {
          throw err;
        }

        console.log('listening localhost:$1');
      });
  - name: exec-file
    prefix: execfile
    body: |-
      const path = require('path');
      const { execFileSync } = require('child_process');

      const rootPath = path.resolve(`${__dirname\}`);
      const devConsole = console;

      function run(cmd, args, opts = {}) {
        devConsole.log(`$ ${cmd\} ${args.join(' ')}`);
        execFileSync(cmd, args, Object.assign({ stdio: 'inherit' }, opts));
      }
  - name: argv
    prefix: argv
    body: 'const argv = require(''minimist'')(process.argv.slice(2), { string: ''_'' });'
